<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Happy Diwali</title>
	<link rel="stylesheet" href="wish.css" />
</head>
<body class="wish">
	<main>
			<div class="card festive-frame" id="wish-card">
				<div class="frame-decor">
					<img src="assets/diya-on.png" alt="Diya" class="frame-diya" />
					<img src="assets/diya-on.png" alt="Diya" class="frame-diya" />
					<img src="assets/diya-on.png" alt="Diya" class="frame-diya" />
				</div>
				<!-- If you export a Canva card, place it at `assets/card.png` or `assets/card.jpg` and it will appear here. -->
				<img id="canva-card-img" alt="Diwali Wish Card" style="max-width:100%;border-radius:10px;display:block;margin:0 auto 12px;" />
				<h2>Happy Diwali ðŸŽ†</h2>
				<p>May the brightness of diyas and the echo of fireworks fill your life with joy, health, and success.
				Wishing you and your family a sparkling Diwali!</p>
				<p style="margin-top:18px"><a href="index.html" class="again">Light Diyas Again</a></p>
				<!-- Decorative diyas row at bottom -->
				<div class="diyas-row" style="margin-top:32px;display:flex;justify-content:center;gap:24px;">
					<span class="diya-svg"> 
						<svg width="48" height="38" viewBox="0 0 48 38" fill="none" xmlns="http://www.w3.org/2000/svg">
							<ellipse cx="24" cy="30" rx="20" ry="8" fill="#8a4b18"/>
							<ellipse cx="24" cy="30" rx="16" ry="6" fill="#c68642"/>
							<ellipse cx="24" cy="30" rx="10" ry="3" fill="#ffd36b"/>
							<path d="M24 14c2.5 0 5 2.5 5 6.5 0 2.5-2.5 5.5-5 5.5s-5-3-5-5.5C19 16.5 21.5 14 24 14z" fill="url(#flame)"/>
							<defs>
								<radialGradient id="flame" cx="0" cy="0" r="1" gradientTransform="translate(24 18) scale(5 8)" gradientUnits="userSpaceOnUse">
									<stop stop-color="#ffd36b"/>
									<stop offset="1" stop-color="#ff6b2f"/>
								</radialGradient>
							</defs>
						</svg>
					</span>
					<span class="diya-svg"> 
						<svg width="48" height="38" viewBox="0 0 48 38" fill="none" xmlns="http://www.w3.org/2000/svg">
							<ellipse cx="24" cy="30" rx="20" ry="8" fill="#8a4b18"/>
							<ellipse cx="24" cy="30" rx="16" ry="6" fill="#c68642"/>
							<ellipse cx="24" cy="30" rx="10" ry="3" fill="#ffd36b"/>
							<path d="M24 14c2.5 0 5 2.5 5 6.5 0 2.5-2.5 5.5-5 5.5s-5-3-5-5.5C19 16.5 21.5 14 24 14z" fill="url(#flame)"/>
							<defs>
								<radialGradient id="flame" cx="0" cy="0" r="1" gradientTransform="translate(24 18) scale(5 8)" gradientUnits="userSpaceOnUse">
									<stop stop-color="#ffd36b"/>
									<stop offset="1" stop-color="#ff6b2f"/>
								</radialGradient>
							</defs>
						</svg>
					</span>
					<span class="diya-svg"> 
						<svg width="48" height="38" viewBox="0 0 48 38" fill="none" xmlns="http://www.w3.org/2000/svg">
							<ellipse cx="24" cy="30" rx="20" ry="8" fill="#8a4b18"/>
							<ellipse cx="24" cy="30" rx="16" ry="6" fill="#c68642"/>
							<ellipse cx="24" cy="30" rx="10" ry="3" fill="#ffd36b"/>
							<path d="M24 14c2.5 0 5 2.5 5 6.5 0 2.5-2.5 5.5-5 5.5s-5-3-5-5.5C19 16.5 21.5 14 24 14z" fill="url(#flame)"/>
							<defs>
								<radialGradient id="flame" cx="0" cy="0" r="1" gradientTransform="translate(24 18) scale(5 8)" gradientUnits="userSpaceOnUse">
									<stop stop-color="#ffd36b"/>
									<stop offset="1" stop-color="#ff6b2f"/>
								</radialGradient>
							</defs>
						</svg>
					</span>
				</div>
			</div>
	</main>
	<script>
		// Try to load a Canva-exported card from assets/card.png or assets/card.jpg
		(async function(){
			const imgEl = document.getElementById('canva-card-img');
			const candidates = ['assets/card.png','assets/card.jpg','assets/card.webp'];
			for (const path of candidates) {
				try {
					const res = await fetch(path, {method:'HEAD'});
					if (res && res.ok) { imgEl.src = path; imgEl.style.display = 'block'; return; }
				} catch(e){}
			}
			// none found â€” hide image
			imgEl.style.display = 'none';
		})();
	</script>
		<canvas id="confetti-canvas" class="confetti" aria-hidden="true"></canvas>

		<script>
			// Run confetti if flagged by previous page
			(function(){
				const show = (function(){ try { return localStorage.getItem('showConfetti') === '1'; } catch(e){ return false; }})();
				if (!show) return;
				try { localStorage.removeItem('showConfetti'); } catch(e){}
				const canvas = document.getElementById('confetti-canvas');
				const ctx = canvas.getContext && canvas.getContext('2d');
				if (!ctx) return;
				const DPR = window.devicePixelRatio || 1;
				function resize(){ canvas.width = window.innerWidth*DPR; canvas.height = window.innerHeight*DPR; canvas.style.width = window.innerWidth+'px'; canvas.style.height = window.innerHeight+'px'; ctx.setTransform(DPR,0,0,DPR,0,0); }
				window.addEventListener('resize', resize); resize();

				const pieces = [];
				const colors = ['#ffcd4a','#ff7b4d','#6ee7b7','#8cc1ff','#f6a6ff'];
				for (let i=0;i<120;i++){
					pieces.push({
						x: Math.random()*window.innerWidth,
						y: -Math.random()*window.innerHeight*0.2,
						vx: (Math.random()-0.5)*6,
						vy: 2 + Math.random()*4,
						sz: 6 + Math.random()*8,
						col: colors[Math.floor(Math.random()*colors.length)],
						rot: Math.random()*Math.PI*2,
						drot: (Math.random()-0.5)*0.2
					});
				}

				let frames = 0;
				function frame(){
					ctx.clearRect(0,0,canvas.width,canvas.height);
					pieces.forEach((p)=>{
						p.x += p.vx; p.y += p.vy; p.vy += 0.06; p.rot += p.drot;
						ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot);
						ctx.fillStyle = p.col; ctx.fillRect(-p.sz/2,-p.sz/2,p.sz,p.sz);
						ctx.restore();
					});
					frames++;
					if (frames < 220) requestAnimationFrame(frame);
					else canvas.remove();
				}
				requestAnimationFrame(frame);
			})();
		</script>
</body>
</html>
